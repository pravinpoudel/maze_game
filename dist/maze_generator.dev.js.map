{"version":3,"sources":["maze_generator.js"],"names":["rows","cols","w","cellSet","wall_list","canvas","ctx","isBreadcumbVisible","IMG","removedWallSet","keyDown","history","window","addEventListener","e","key","processInput","elapsedTime","canMove","player","y","push","x","a","s","d","b","checkWall","x0","y0","x1","y1","i","length","drawPlayer","fillStyle","fillRect","showTrack","cellList","centerX","centerY","forEach","element","index","beginPath","arc","Math","PI","fill","randInt","n","floor","random","putBackground","drawImage","img","width","height","render","time","timeDiv","innerText","clearRect","drawStartAndEnd","startIndex","endIndex","findShortestPath","startPosition","endPosition","show","startY","startX","console","log","endY","endX","findShortestLength","queue","distances","Array","comb1","comb2","cellIndex","shift","neighbours","filter","hasOwnProperty","currentIndex","path","currentDistance","setup","document","getElementById","getContext","h","Image","src","j","mazeGeneration","found1Index","found2Index","randIndex","cell1Index","cell2Index","removedWallString1","removedWallString2","m","splice","start","end","drawLine","begin","stroke","strokeStyle","lineWidth","moveTo","lineTo","trackValue","playerY","playerX","startingTime","previousTime","gameLoop","currentTime"],"mappings":"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","sourcesContent":["const rows = 3;\r\nconst cols = 3;\r\nlet w;\r\nlet cellSet = [];\r\nlet wall_list = [];\r\nlet canvas, ctx, isBreadcumbVisible, IMG;\r\nlet removedWallSet = {};\r\n\r\nlet keyDown = {};\r\nlet history = [];\r\nwindow.addEventListener(\"keydown\", (e) => {\r\n  let key = e.key;\r\n  keyDown[key] = true;\r\n});\r\n\r\nfunction processInput(elapsedTime) {\r\n  if (keyDown.w && canMove(\"w\") && player.y > 0) {\r\n    history.push({ x: player.x, y: player.y });\r\n    player.y = player.y - 1;\r\n  }\r\n  if (keyDown.a && canMove(\"a\") && player.x > 0) {\r\n    history.push(player.x * cols + player.y);\r\n    player.x = player.x - 1;\r\n  }\r\n  if (keyDown.s && canMove(\"s\") && player.y < rows - 1) {\r\n    history.push({ x: player.x, y: player.y });\r\n    player.y = player.y + 1;\r\n  }\r\n  if (keyDown.d && canMove(\"d\") && player.x < cols - 1) {\r\n    history.push({ x: player.x, y: player.y });\r\n    player.x = player.x + 1;\r\n  }\r\n  if (keyDown.b) {\r\n    isBreadcumbVisible = !isBreadcumbVisible;\r\n  }\r\n  keyDown = {};\r\n}\r\n\r\nfunction canMove(key) {\r\n  let checkWall = {};\r\n  if (key == \"s\") {\r\n    checkWall.x0 = player.x;\r\n    checkWall.y0 = player.y + 1;\r\n    checkWall.x1 = player.x + 1;\r\n    checkWall.y1 = player.y + 1;\r\n  }\r\n\r\n  if (key == \"d\") {\r\n    checkWall.x0 = player.x + 1;\r\n    checkWall.y0 = player.y;\r\n    checkWall.x1 = player.x + 1;\r\n    checkWall.y1 = player.y + 1;\r\n  }\r\n\r\n  if (key == \"w\") {\r\n    checkWall.x0 = player.x;\r\n    checkWall.y0 = player.y;\r\n    checkWall.x1 = player.x + 1;\r\n    checkWall.y1 = player.y;\r\n  }\r\n\r\n  if (key == \"a\") {\r\n    checkWall.x0 = player.x;\r\n    checkWall.y0 = player.y;\r\n    checkWall.x1 = player.x;\r\n    checkWall.y1 = player.y + 1;\r\n  }\r\n\r\n  for (let i = 0; i < wall_list.length; i++) {\r\n    if (\r\n      wall_list[i].x0 == checkWall.x0 &&\r\n      wall_list[i].y0 == checkWall.y0 &&\r\n      wall_list[i].x1 == checkWall.x1 &&\r\n      wall_list[i].y1 == checkWall.y1\r\n    ) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n//[0, n)\r\n\r\nfunction drawPlayer() {\r\n  ctx.fillStyle = \"rgba(0, 255, 0, 1)\";\r\n  ctx.fillRect(player.x * w, player.y * w, w, w);\r\n}\r\n\r\nfunction showTrack(cellList) {\r\n  let centerX, centerY;\r\n  ctx.fillStyle = \"#df7a12\";\r\n  cellList.forEach((element, index) => {\r\n    ctx.beginPath();\r\n    centerX = element.x * w + w / 2;\r\n    centerY = element.y * w + w / 2;\r\n    ctx.arc(centerX, centerY, w / 3, 2 * Math.PI, false);\r\n    ctx.fill();\r\n  });\r\n}\r\n\r\nfunction randInt(n) {\r\n  return Math.floor(Math.random() * n);\r\n}\r\n\r\nfunction putBackground() {\r\n  ctx.drawImage(\r\n    img,\r\n    0,\r\n    0,\r\n    img.width,\r\n    img.height,\r\n    0,\r\n    0,\r\n    canvas.width,\r\n    canvas.height\r\n  );\r\n  ctx.fillStyle = \"#4aa1b0cc\";\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height); // something in the background\r\n}\r\n\r\nfunction render(time) {\r\n  timeDiv.innerText = Math.floor(time / 1000) + \" sec\";\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  // putBackground();\r\n  if (isBreadcumbVisible) {\r\n    showTrack(history);\r\n  }\r\n  drawPlayer();\r\n  drawStartAndEnd(startIndex, endIndex);\r\n  findShortestPath(startPosition, endPosition);\r\n  show();\r\n}\r\n\r\nfunction drawStartAndEnd(startPosition, endPosition) {\r\n  let startY = Math.floor(startPosition / cols);\r\n  let startX = startPosition % cols;\r\n\r\n  console.log(startX, startY);\r\n  let endY = Math.floor(endPosition / cols);\r\n  let endX = endPosition % cols;\r\n  // let startX = cellSet[0][startPosition].x;\r\n  // let startY = cellSet[0][startPosition].y;\r\n  // let endX = cellSet[0][endPosition].x;\r\n  // let endY = cellSet[0][endPosition].y;\r\n\r\n  console.log(startPosition, endPosition);\r\n  console.log(startX, startY, endX, endY);\r\n\r\n  ctx.fillStyle = \"rgba(255, 0, 0, 1)\";\r\n  ctx.fillRect(endX * w, endY * w, w, w);\r\n\r\n  ctx.fillStyle = \"rgba(0, 0, 0, 1)\";\r\n  ctx.fillRect(startX * w, startY * w, w, w);\r\n}\r\n\r\nfunction findShortestLength(startIndex, endIndex) {\r\n  let queue = [];\r\n  let distances = new Array(rows * cols).fill(-1);\r\n  console.log(startIndex);\r\n  queue.push(startIndex);\r\n  distances[startIndex] = 0;\r\n  let comb1, comb2;\r\n  while (queue.length > 0) {\r\n    let cellIndex = queue.shift();\r\n    let neighbours = [\r\n      cellIndex - 1,\r\n      cellIndex + 1,\r\n      cellIndex - cols,\r\n      cellIndex + cols,\r\n    ];\r\n\r\n    neighbours.filter((element, index) => {\r\n      comb1 = element + \"_\" + cellIndex;\r\n      comb2 = cellIndex + \"_\" + element;\r\n      if (\r\n        (removedWallSet.hasOwnProperty(comb1) ||\r\n          removedWallSet.hasOwnProperty(comb2)) &&\r\n        element < rows &&\r\n        element < cols &&\r\n        element >= 0\r\n      ) {\r\n        console.log(comb1, comb2);\r\n        return true;\r\n      }\r\n    });\r\n\r\n    for (let i = 0; i < neighbours.length; i++) {\r\n      if (distances[neighbours[i]] == -1) {\r\n        distances[neighbours[i]] = distances[cellIndex] + 1;\r\n        queue.push(neighbours[i]);\r\n        if (neighbours[i] == endIndex) {\r\n          return distances;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction findShortestPath(startIndex, endIndex) {\r\n  let distances = findShortestLength(startIndex, endIndex);\r\n  console.log(distances);\r\n  let currentIndex = endIndex;\r\n  let path = [endIndex];\r\n  let currentDistance = distances[endIndex];\r\n  console.log(startIndex, endIndex);\r\n  while (currentDistance > 0) {\r\n    currentDistance = distances[currentIndex];\r\n    let neighbours = [\r\n      currentIndex - 1,\r\n      currentIndex + 1,\r\n      currentIndex - cols,\r\n      currentIndex + cols,\r\n    ];\r\n\r\n    neighbours.filter((element, index) => {\r\n      comb1 = element + \"_\" + currentIndex;\r\n      comb2 = currentIndex + \"_\" + element;\r\n      console.log(\r\n        comb1 +\r\n          \"and\" +\r\n          comb2 +\r\n          \"doesnot have wall\" +\r\n          removedWallSet.hasOwnProperty(comb1) ||\r\n          removedWallSet.hasOwnProperty(comb2)\r\n      );\r\n      return (\r\n        (removedWallSet.hasOwnProperty(comb1) ||\r\n          removedWallSet.hasOwnProperty(comb2)) &&\r\n        element < rows &&\r\n        element < cols &&\r\n        element >= 0\r\n      );\r\n    });\r\n\r\n    for (let i = 0; i < neighbours.length; i++) {\r\n      currentDistance--;\r\n      if (distances[neighbours[i]] == currentDistance) {\r\n        path.push(neighbours[i]);\r\n        break;\r\n      }\r\n    }\r\n    currentIndex = path[path.length - 1];\r\n  }\r\n\r\n  for (let i = 0, length = path.length; i < length; i++) {\r\n    let y = Math.floor(path[i] / cols);\r\n    let x = path[i] % cols;\r\n    path[i] = { x, y };\r\n  }\r\n\r\n  showTrack(path);\r\n}\r\n\r\nfunction setup() {\r\n  canvas = document.getElementById(\"mazecanvas\");\r\n  ctx = canvas.getContext(\"2d\");\r\n  const width = canvas.width;\r\n  const height = canvas.height;\r\n  w = Math.floor(width / rows);\r\n  h = Math.floor(height / cols);\r\n\r\n  img = new Image();\r\n  img.src = \"./background.jpg\";\r\n  for (let i = 0; i < rows; i++) {\r\n    for (let j = 0; j < cols; j++) {\r\n      cellSet.push([{ index: i * cols + j, x: i, y: j }]);\r\n    }\r\n  }\r\n\r\n  for (let i = 0; i < rows; i++) {\r\n    for (let j = 0; j < cols; j++) {\r\n      let x0 = i;\r\n      let y0 = j;\r\n      let x1 = i + 1;\r\n      let y1 = j;\r\n      wall_list.push({\r\n        x0: x0,\r\n        y0: y0,\r\n        x1: x1,\r\n        y1: y1,\r\n      });\r\n\r\n      x1 = i;\r\n      y1 = j + 1;\r\n\r\n      wall_list.push({\r\n        x0: x0,\r\n        y0: y0,\r\n        x1: x1,\r\n        y1: y1,\r\n      });\r\n    }\r\n  }\r\n\r\n  for (let i = 0, j = cols; i < rows; i++) {\r\n    let x0 = i;\r\n    let y0 = j;\r\n    let x1 = i + 1;\r\n    let y1 = j;\r\n\r\n    wall_list.push({\r\n      x0: x0,\r\n      y0: y0,\r\n      x1: x1,\r\n      y1: y1,\r\n    });\r\n  }\r\n\r\n  for (let j = 0, i = rows; j < cols; j++) {\r\n    let x0 = i;\r\n    let y0 = j;\r\n    let x1 = i;\r\n    let y1 = j + 1;\r\n    wall_list.push({\r\n      x0: x0,\r\n      y0: y0,\r\n      x1: x1,\r\n      y1: y1,\r\n    });\r\n  }\r\n}\r\n\r\nfunction mazeGeneration() {\r\n  while (cellSet.length > 1) {\r\n    let n = wall_list.length;\r\n    let found1Index = -1;\r\n    let found2Index = -1;\r\n    let randIndex = randInt(n);\r\n    let cell1Index;\r\n    let cell2Index;\r\n    let removedWallString1;\r\n    let removedWallString2;\r\n\r\n    // console.log(randIndex, n, cellSet)\r\n    if (wall_list[randIndex].y0 == wall_list[randIndex].y1) {\r\n      let x0 = wall_list[randIndex].x0;\r\n      let y0 = wall_list[randIndex].y0;\r\n      for (let i = 0; i < cellSet.length; i++) {\r\n        for (let j = 0; j < cellSet[i].length; j++) {\r\n          if (cellSet[i][j].x == x0 && cellSet[i][j].y == y0) {\r\n            found1Index = i;\r\n            cell1Index = cellSet[i][j].index;\r\n          }\r\n          if (cellSet[i][j].x == x0 && cellSet[i][j].y == y0 - 1) {\r\n            found2Index = i;\r\n            cell2Index = cellSet[i][j].index;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (wall_list[randIndex].x0 == wall_list[randIndex].x1) {\r\n      let x0 = wall_list[randIndex].x0;\r\n      let y0 = wall_list[randIndex].y0;\r\n      for (let i = 0; i < cellSet.length; i++) {\r\n        for (let j = 0; j < cellSet[i].length; j++) {\r\n          if (cellSet[i][j].x == x0 - 1 && cellSet[i][j].y == y0) {\r\n            found1Index = i;\r\n            cell1Index = cellSet[i][j].index;\r\n          }\r\n\r\n          if (cellSet[i][j].x == x0 && cellSet[i][j].y == y0) {\r\n            found2Index = i;\r\n            cell1Index = cellSet[i][j].index;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (found1Index >= 0 && found2Index >= 0) {\r\n      if (found1Index != found2Index) {\r\n        for (let m = 0; m < cellSet[found2Index].length; m++) {\r\n          cellSet[found1Index][cellSet[found1Index].length] = {\r\n            ...cellSet[found2Index][m],\r\n          };\r\n        }\r\n\r\n        let removedWallString1 = cell1Index + \"_\" + cell2Index;\r\n        let removedWallString2 = cell2Index + \"_\" + cell1Index;\r\n\r\n        removedWallSet[removedWallString1] = true;\r\n        removedWallSet[removedWallString2] = true;\r\n\r\n        wall_list.splice(randIndex, 1);\r\n        cellSet.splice(found2Index, 1);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction show() {\r\n  for (let i = 0; i < wall_list.length; i++) {\r\n    start = [wall_list[i].x0 * w, wall_list[i].y0 * w];\r\n    end = [wall_list[i].x1 * w, wall_list[i].y1 * w];\r\n    drawLine(ctx, start, end, \"white\", 6);\r\n  }\r\n}\r\n\r\nfunction drawLine(ctx, begin, end, stroke = \"white\", width = 1) {\r\n  if (stroke) {\r\n    ctx.strokeStyle = stroke;\r\n  }\r\n\r\n  if (width) {\r\n    ctx.lineWidth = width;\r\n  }\r\n\r\n  ctx.beginPath();\r\n  ctx.moveTo(...begin);\r\n  ctx.lineTo(...end);\r\n  ctx.stroke();\r\n}\r\n\r\nsetup();\r\nmazeGeneration();\r\nshow();\r\n\r\nlet startPosition;\r\nlet endPosition;\r\n\r\ndo {\r\n  startPosition = randInt(cellSet[0].length);\r\n  endPosition = randInt(cellSet[0].length);\r\n} while (startPosition == endPosition);\r\n\r\nconsole.log(startPosition, endPosition);\r\nlet startIndex = cellSet[0][startPosition].index;\r\nlet endIndex = cellSet[0][endPosition].index;\r\n\r\nconsole.log(\"starting cell is \" + startPosition + \"end cell is \" + endIndex);\r\nlet trackValue = findShortestLength(startIndex, endIndex);\r\n\r\nconsole.log(startIndex);\r\nlet playerY = Math.floor(startIndex / cols);\r\nlet playerX = startIndex % cols;\r\n\r\nconst player = {\r\n  x: playerX,\r\n  y: playerY,\r\n};\r\n\r\nconsole.log(player);\r\nctx.fillStyle = \"rgba(0, 255, 0, 1)\";\r\nctx.fillRect(player.x * w, player.y * w, w, w);\r\n\r\nlet startingTime;\r\nlet previousTime;\r\nlet timeDiv = document.getElementById(\"elapsedTime\");\r\nfunction gameLoop(currentTime) {\r\n  if (!startingTime) {\r\n    startingTime = currentTime;\r\n  }\r\n  let elapsedTime = currentTime - startingTime;\r\n  // update(elapsedTime);\r\n  processInput(elapsedTime);\r\n  render(elapsedTime);\r\n  // requestAnimationFrame(gameLoop);\r\n}\r\n\r\ngameLoop();\r\n"],"file":"maze_generator.dev.js"}