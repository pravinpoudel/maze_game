{"version":3,"sources":["maze_generator.js"],"names":["rows","cols","w","cellSet","path","wall_list","canvas","ctx","IMG","removedWallSet","player","startPosition","endPosition","startIndex","endIndex","previousTime","Date","first","keyDown","history","isBreadcumbVisible","isHintVisible","isPathVisible","score","gameOver","scoreList","playerImage","destinationImage","buttonDiv","document","getElementById","onclick","event","srcElement","dataset","value","Number","gameOverBoard","innerText","gameLoop","window","addEventListener","e","key","processInput","elapsedTime","canMove","y","push","x","updateScore","a","s","d","b","h","p","checkWall","x0","y0","x1","y1","i","length","playerIndex","correctPosition","drawSprite","drawImage","showTrack","cellList","color","centerX","centerY","fillStyle","forEach","element","index","beginPath","arc","Math","PI","fill","randInt","n","floor","random","putBackground","img","width","height","fillRect","render","time","timeDiv","scoreBoard","clearRect","drawStartAndEnd","hint","show","highscoreBoard","max","startX","startY","endX","endY","findShortestLength","queue","distances","Array","comb1","comb2","cellIndex","shift","neighbours","splice","findShortestPath","currentDistance","hasOwnProperty","setup","getContext","Image","src","j","mazeGeneration","found1Index","found2Index","randIndex","cell1Index","cell2Index","removedWallString1","removedWallString2","m","update","start","end","drawLine","begin","stroke","strokeStyle","lineWidth","moveTo","lineTo","spriteLoad","characterURL","destinationURL","onload","console","log","init","trackValue","timeStamp","lastRender","requestAnimationFrame"],"mappings":"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","sourcesContent":["let rows = 15;\r\nlet cols = 15;\r\nlet w;\r\nlet cellSet = [];\r\nlet path = [];\r\nlet wall_list = [];\r\nlet canvas, ctx, IMG;\r\nlet removedWallSet = {};\r\nlet player;\r\nlet startPosition;\r\nlet endPosition;\r\nlet startIndex, endIndex;\r\nlet previousTime = new Date();\r\nlet first = true;\r\nlet keyDown = {};\r\nlet history = [];\r\nlet isBreadcumbVisible = true;\r\nlet isHintVisible = false;\r\nlet isPathVisible = false;\r\nlet score = 0;\r\nlet gameOver = false;\r\nlet scoreList = [];\r\nlet playerImage;\r\nlet destinationImage;\r\n\r\nlet buttonDiv = document.getElementById(\"maze_size\");\r\n\r\nbuttonDiv.onclick = (event) => {\r\n  rows = event.srcElement.dataset.value;\r\n  cols = Number(rows);\r\n  rows = Number(rows);\r\n  first = true;\r\n  cellSet = [];\r\n  removedWallSet = {};\r\n  wall_list = [];\r\n  path = [];\r\n  history = [];\r\n  isBreadcumbVisible = true;\r\n  keyDown = {};\r\n  score = 0;\r\n  gameOver = false;\r\n  gameOverBoard.innerText = \"\";\r\n  gameLoop();\r\n};\r\n\r\nwindow.addEventListener(\"keydown\", (e) => {\r\n  let key = e.key;\r\n  if (key == \"w\" || key == \"i\" || key == \"ArrowUp\") {\r\n    key = \"w\";\r\n  }\r\n  if (key == \"a\" || key == \"j\" || key == \"ArrowLeft\") {\r\n    key = \"a\";\r\n  }\r\n  if (key == \"s\" || key == \"k\" || key == \"ArrowDown\") {\r\n    key = \"s\";\r\n  }\r\n  if (key == \"d\" || key == \"l\" || key == \"ArrowRight\") {\r\n    key = \"d\";\r\n  }\r\n  keyDown[key] = true;\r\n});\r\n\r\nfunction processInput(elapsedTime) {\r\n  if (keyDown.w && canMove(\"w\") && player.y > 0) {\r\n    history.push({\r\n      x: player.x,\r\n      y: player.y,\r\n    });\r\n    player.y = player.y - 1;\r\n    updateScore();\r\n  }\r\n  if (keyDown.a && canMove(\"a\") && player.x > 0) {\r\n    history.push({ x: player.x, y: player.y });\r\n    player.x = player.x - 1;\r\n    updateScore();\r\n  }\r\n  if (keyDown.s && canMove(\"s\") && player.y < rows - 1) {\r\n    history.push({\r\n      x: player.x,\r\n      y: player.y,\r\n    });\r\n    player.y = player.y + 1;\r\n    updateScore();\r\n  }\r\n  if (keyDown.d && canMove(\"d\") && player.x < cols - 1) {\r\n    history.push({\r\n      x: player.x,\r\n      y: player.y,\r\n    });\r\n    player.x = player.x + 1;\r\n    updateScore();\r\n  }\r\n  if (keyDown.b) {\r\n    isBreadcumbVisible = !isBreadcumbVisible;\r\n  }\r\n  if (keyDown.h) {\r\n    isHintVisible = !isHintVisible;\r\n  }\r\n  if (keyDown.p) {\r\n    isPathVisible = !isPathVisible;\r\n  }\r\n\r\n  keyDown = {};\r\n}\r\n\r\nfunction canMove(key) {\r\n  let checkWall = {};\r\n  if (key == \"s\") {\r\n    checkWall.x0 = player.x;\r\n    checkWall.y0 = player.y + 1;\r\n    checkWall.x1 = player.x + 1;\r\n    checkWall.y1 = player.y + 1;\r\n  }\r\n\r\n  if (key == \"d\") {\r\n    checkWall.x0 = player.x + 1;\r\n    checkWall.y0 = player.y;\r\n    checkWall.x1 = player.x + 1;\r\n    checkWall.y1 = player.y + 1;\r\n  }\r\n\r\n  if (key == \"w\") {\r\n    checkWall.x0 = player.x;\r\n    checkWall.y0 = player.y;\r\n    checkWall.x1 = player.x + 1;\r\n    checkWall.y1 = player.y;\r\n  }\r\n\r\n  if (key == \"a\") {\r\n    checkWall.x0 = player.x;\r\n    checkWall.y0 = player.y;\r\n    checkWall.x1 = player.x;\r\n    checkWall.y1 = player.y + 1;\r\n  }\r\n\r\n  for (let i = 0; i < wall_list.length; i++) {\r\n    if (\r\n      wall_list[i].x0 == checkWall.x0 &&\r\n      wall_list[i].y0 == checkWall.y0 &&\r\n      wall_list[i].x1 == checkWall.x1 &&\r\n      wall_list[i].y1 == checkWall.y1\r\n    ) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n//[0, n)\r\n\r\nfunction updateScore() {\r\n  let playerIndex = player.x + player.y * cols;\r\n  if (playerIndex != endIndex) {\r\n    let correctPosition =\r\n      path[path.length - 2].x + path[path.length - 2].y * cols;\r\n    if (playerIndex == correctPosition) {\r\n      score += 5;\r\n    } else {\r\n      score -= 2;\r\n    }\r\n  }\r\n}\r\n\r\nfunction drawSprite() {\r\n  ctx.drawImage(playerImage, player.x * w, player.y * w, w, w);\r\n  ctx.drawImage(\r\n    destinationImage,\r\n    cellSet[0][endPosition].x * w,\r\n    cellSet[0][endPosition].y * w,\r\n    w,\r\n    w\r\n  );\r\n\r\n  // ctx.fillStyle = \"rgba(0, 255, 0, 1)\";\r\n  // ctx.fillRect(player.x * w, player.y * w, w, w);\r\n}\r\n\r\nfunction showTrack(cellList, color) {\r\n  let centerX, centerY;\r\n  ctx.fillStyle = color;\r\n  cellList.forEach((element, index) => {\r\n    ctx.beginPath();\r\n    centerX = element.x * w + w / 2;\r\n    centerY = element.y * w + w / 2;\r\n    ctx.arc(centerX, centerY, w / 4, 2 * Math.PI, false);\r\n    ctx.fill();\r\n  });\r\n}\r\n\r\nfunction randInt(n) {\r\n  return Math.floor(Math.random() * n);\r\n}\r\n\r\nfunction putBackground() {\r\n  ctx.drawImage(\r\n    img,\r\n    0,\r\n    0,\r\n    img.width,\r\n    img.height,\r\n    0,\r\n    0,\r\n    canvas.width,\r\n    canvas.height\r\n  );\r\n  ctx.fillStyle = \"#4aa1b0cc\";\r\n  ctx.fillRect(0, 0, canvas.width, canvas.height); // something in the background\r\n}\r\n\r\nfunction render(time) {\r\n  timeDiv.innerText = Math.floor(time / 1000) + \" sec\";\r\n  scoreBoard.innerText = score;\r\n  ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n  // putBackground();\r\n\r\n  drawStartAndEnd(startPosition, endPosition);\r\n  if (isPathVisible) {\r\n    showTrack(path, \"#939ea0\");\r\n  }\r\n  if (isBreadcumbVisible) {\r\n    showTrack(history, \"#556611\");\r\n  }\r\n  if (isHintVisible) {\r\n    if (path.length > 1) {\r\n      let hint = [path[path.length - 2]];\r\n      showTrack(hint, \"#939ea0\");\r\n    }\r\n  }\r\n  show();\r\n  drawSprite();\r\n  scoreList.push(score);\r\n  if (gameOver) {\r\n    gameOverBoard.innerText = \"You Won !!!!\";\r\n    highscoreBoard.innerText = Math.max(...scoreList);\r\n  }\r\n}\r\n\r\nfunction drawStartAndEnd(startPosition, endPosition) {\r\n  let startX = cellSet[0][startPosition].x;\r\n  let startY = cellSet[0][startPosition].y;\r\n  let endX = cellSet[0][endPosition].x;\r\n  let endY = cellSet[0][endPosition].y;\r\n\r\n  // ctx.drawImage(characterImage, startX.x * w, startY.y * w, w, w);\r\n  // ctx.fillStyle = \"rgba(255, 0, 0, 1)\";\r\n  // ctx.fillRect(endX * w, endY * w, w, w);\r\n}\r\n\r\nfunction findShortestLength(startIndex, endIndex) {\r\n  let queue = [];\r\n  let distances = new Array(rows * cols).fill(-1);\r\n  queue.push(startIndex);\r\n  distances[startIndex] = 0;\r\n  let comb1, comb2;\r\n  while (queue.length > 0) {\r\n    let cellIndex = queue.shift();\r\n    let neighbours = [cellIndex - cols, cellIndex + cols];\r\n    if (cellIndex % cols == 0) {\r\n      neighbours.push(cellIndex + 1);\r\n    } else if (cellIndex % cols == cols - 1) {\r\n      neighbours.push(cellIndex - 1);\r\n    } else {\r\n      neighbours.push(cellIndex + 1);\r\n      neighbours.push(cellIndex - 1);\r\n    }\r\n\r\n    for (let i = 0; i < neighbours.length; i++) {\r\n      // console.log(\r\n      //   \"index\",\r\n      //   i,\r\n      //   neighbours[i],\r\n      //   comb1,\r\n      //   removedWallSet.hasOwnProperty(comb1),\r\n      //   comb2,\r\n      //   removedWallSet.hasOwnProperty(comb2)\r\n      // );\r\n\r\n      comb1 = neighbours[i] + \"_\" + cellIndex;\r\n      comb2 = cellIndex + \"_\" + neighbours[i];\r\n\r\n      if (!(removedWallSet[comb1] || removedWallSet[comb2])) {\r\n        neighbours.splice(i, 1);\r\n        i--;\r\n      } else if (!(neighbours[i] < rows * cols && neighbours[i] >= 0)) {\r\n        neighbours.splice(i, 1);\r\n        i--;\r\n      }\r\n    }\r\n\r\n    for (let i = 0; i < neighbours.length; i++) {\r\n      if (distances[neighbours[i]] == -1) {\r\n        distances[neighbours[i]] = distances[cellIndex] + 1;\r\n        queue.push(neighbours[i]);\r\n        if (neighbours[i] == endIndex) {\r\n          return distances;\r\n        }\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction findShortestPath(startIndex, endIndex) {\r\n  let distances = findShortestLength(startIndex, endIndex);\r\n  let cellIndex = endIndex;\r\n  path.push(endIndex);\r\n  let currentDistance = distances[endIndex];\r\n  while (currentDistance > 0) {\r\n    currentDistance = distances[cellIndex];\r\n    let neighbours = [cellIndex - cols, cellIndex + cols];\r\n    if (cellIndex % cols == 0) {\r\n      neighbours.push(cellIndex + 1);\r\n    } else if (cellIndex % cols == cols - 1) {\r\n      neighbours.push(cellIndex - 1);\r\n    } else {\r\n      neighbours.push(cellIndex + 1);\r\n      neighbours.push(cellIndex - 1);\r\n    }\r\n    for (let i = 0; i < neighbours.length; i++) {\r\n      comb1 = neighbours[i] + \"_\" + cellIndex;\r\n      comb2 = cellIndex + \"_\" + neighbours[i];\r\n\r\n      if (\r\n        !(\r\n          removedWallSet.hasOwnProperty(comb1) ||\r\n          removedWallSet.hasOwnProperty(comb2)\r\n        )\r\n      ) {\r\n        neighbours.splice(i, 1);\r\n        i--;\r\n      } else if (!(neighbours[i] < rows * cols && neighbours[i] >= 0)) {\r\n        neighbours.splice(i, 1);\r\n        i--;\r\n      }\r\n    }\r\n\r\n    currentDistance--;\r\n    for (let i = 0; i < neighbours.length; i++) {\r\n      if (distances[neighbours[i]] == currentDistance) {\r\n        path.push(neighbours[i]);\r\n        break;\r\n      }\r\n    }\r\n    cellIndex = path[path.length - 1];\r\n  }\r\n\r\n  for (let i = 0, length = path.length; i < length; i++) {\r\n    let y = Math.floor(path[i] / cols);\r\n    let x = path[i] % cols;\r\n    path[i] = {\r\n      x,\r\n      y,\r\n    };\r\n  }\r\n}\r\n\r\nfunction setup() {\r\n  canvas = document.getElementById(\"mazecanvas\");\r\n  ctx = canvas.getContext(\"2d\");\r\n  const width = canvas.width;\r\n  const height = canvas.height;\r\n  w = Math.floor(width / rows);\r\n  h = Math.floor(height / cols);\r\n\r\n  img = new Image();\r\n  img.src = \"./background.jpg\";\r\n  for (let i = 0; i < rows; i++) {\r\n    for (let j = 0; j < cols; j++) {\r\n      cellSet.push([\r\n        {\r\n          index: i + j * cols,\r\n          x: i,\r\n          y: j,\r\n        },\r\n      ]);\r\n    }\r\n  }\r\n  for (let i = 0; i < rows; i++) {\r\n    for (let j = 0; j < cols; j++) {\r\n      let x0 = i;\r\n      let y0 = j;\r\n      let x1 = i + 1;\r\n      let y1 = j;\r\n      wall_list.push({\r\n        x0: x0,\r\n        y0: y0,\r\n        x1: x1,\r\n        y1: y1,\r\n      });\r\n\r\n      x1 = i;\r\n      y1 = j + 1;\r\n\r\n      wall_list.push({\r\n        x0: x0,\r\n        y0: y0,\r\n        x1: x1,\r\n        y1: y1,\r\n      });\r\n    }\r\n  }\r\n\r\n  for (let i = 0, j = cols; i < rows; i++) {\r\n    let x0 = i;\r\n    let y0 = j;\r\n    let x1 = i + 1;\r\n    let y1 = j;\r\n\r\n    wall_list.push({\r\n      x0: x0,\r\n      y0: y0,\r\n      x1: x1,\r\n      y1: y1,\r\n    });\r\n  }\r\n\r\n  for (let j = 0, i = rows; j < cols; j++) {\r\n    let x0 = i;\r\n    let y0 = j;\r\n    let x1 = i;\r\n    let y1 = j + 1;\r\n    wall_list.push({\r\n      x0: x0,\r\n      y0: y0,\r\n      x1: x1,\r\n      y1: y1,\r\n    });\r\n  }\r\n}\r\n\r\nfunction mazeGeneration() {\r\n  while (cellSet.length > 1) {\r\n    let n = wall_list.length;\r\n    let found1Index = -1;\r\n    let found2Index = -1;\r\n    let randIndex = randInt(n);\r\n    let cell1Index;\r\n    let cell2Index;\r\n    let removedWallString1;\r\n    let removedWallString2;\r\n\r\n    // console.log(randIndex, n, cellSet)\r\n    if (wall_list[randIndex].y0 == wall_list[randIndex].y1) {\r\n      let x0 = wall_list[randIndex].x0;\r\n      let y0 = wall_list[randIndex].y0;\r\n      for (let i = 0; i < cellSet.length; i++) {\r\n        for (let j = 0; j < cellSet[i].length; j++) {\r\n          if (cellSet[i][j].x == x0 && cellSet[i][j].y == y0) {\r\n            found1Index = i;\r\n            cell1Index = cellSet[i][j].index;\r\n          }\r\n          if (cellSet[i][j].x == x0 && cellSet[i][j].y == y0 - 1) {\r\n            found2Index = i;\r\n            cell2Index = cellSet[i][j].index;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (wall_list[randIndex].x0 == wall_list[randIndex].x1) {\r\n      let x0 = wall_list[randIndex].x0;\r\n      let y0 = wall_list[randIndex].y0;\r\n      for (let i = 0; i < cellSet.length; i++) {\r\n        for (let j = 0; j < cellSet[i].length; j++) {\r\n          if (cellSet[i][j].x == x0 - 1 && cellSet[i][j].y == y0) {\r\n            found1Index = i;\r\n            cell1Index = cellSet[i][j].index;\r\n          }\r\n\r\n          if (cellSet[i][j].x == x0 && cellSet[i][j].y == y0) {\r\n            found2Index = i;\r\n            cell2Index = cellSet[i][j].index;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    if (found1Index >= 0 && found2Index >= 0) {\r\n      if (found1Index != found2Index) {\r\n        for (let m = 0; m < cellSet[found2Index].length; m++) {\r\n          cellSet[found1Index][cellSet[found1Index].length] = {\r\n            ...cellSet[found2Index][m],\r\n          };\r\n        }\r\n\r\n        let removedWallString1 = cell1Index + \"_\" + cell2Index;\r\n        let removedWallString2 = cell2Index + \"_\" + cell1Index;\r\n\r\n        removedWallSet[removedWallString1] = true;\r\n        removedWallSet[removedWallString2] = true;\r\n\r\n        wall_list.splice(randIndex, 1);\r\n        cellSet.splice(found2Index, 1);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction update(time) {\r\n  let startIndex = player.x + player.y * cols;\r\n  path = [];\r\n  if (startIndex == endIndex) {\r\n    gameOver = true;\r\n    return;\r\n  }\r\n  findShortestPath(startIndex, endIndex);\r\n}\r\nfunction show() {\r\n  for (let i = 0; i < wall_list.length; i++) {\r\n    start = [wall_list[i].x0 * w, wall_list[i].y0 * w];\r\n    end = [wall_list[i].x1 * w, wall_list[i].y1 * w];\r\n    drawLine(ctx, start, end, \"#6b789e\", 2);\r\n  }\r\n}\r\n\r\nfunction drawLine(ctx, begin, end, stroke = \"white\", width = 1) {\r\n  if (stroke) {\r\n    ctx.strokeStyle = stroke;\r\n  }\r\n\r\n  if (width) {\r\n    ctx.lineWidth = width;\r\n  }\r\n\r\n  ctx.beginPath();\r\n  ctx.moveTo(...begin);\r\n  ctx.lineTo(...end);\r\n  ctx.stroke();\r\n}\r\n\r\nfunction spriteLoad() {\r\n  let characterURL = \"./sprites/player.png\";\r\n  let destinationURL = \"./sprites/destination.png\";\r\n  playerImage = new Image();\r\n  playerImage.src = characterURL;\r\n  destinationImage = new Image();\r\n  destinationImage.src = destinationURL;\r\n  playerImage.onload = function () {\r\n    ctx.drawImage(playerImage, player.x * w, player.y * w);\r\n  };\r\n  destinationImage.onload = function () {\r\n    console.log(cellSet[0][endPosition].x * w, cellSet[0][endPosition].y * w);\r\n    ctx.drawImage(\r\n      destinationImage,\r\n      cellSet[0][endPosition].x * w,\r\n      cellSet[0][endPosition].y * w,\r\n      w,\r\n      w\r\n    );\r\n  };\r\n}\r\n\r\nfunction init() {\r\n  setup();\r\n  mazeGeneration();\r\n  do {\r\n    startPosition = randInt(cellSet[0].length);\r\n    endPosition = randInt(cellSet[0].length);\r\n  } while (startPosition == endPosition);\r\n\r\n  spriteLoad();\r\n\r\n  startIndex = cellSet[0][startPosition].index;\r\n  endIndex = cellSet[0][endPosition].index;\r\n\r\n  let trackValue = findShortestLength(startIndex, endIndex);\r\n\r\n  player = {\r\n    x: cellSet[0][startPosition].x,\r\n    y: cellSet[0][startPosition].y,\r\n  };\r\n\r\n  findShortestPath(startIndex, endIndex);\r\n}\r\n\r\nlet timeDiv = document.getElementById(\"elapsedTime\");\r\nlet scoreBoard = document.getElementById(\"scoreBoard\");\r\n\r\nlet highscoreBoard = document.getElementById(\"highscoreBoard\");\r\nlet gameOverBoard = document.getElementById(\"gamOverBoard\");\r\n\r\nfunction gameLoop(timeStamp) {\r\n  if (first) {\r\n    first = false;\r\n    init();\r\n  }\r\n  let elapsedTime = timeStamp - lastRender;\r\n  processInput(elapsedTime);\r\n  update(elapsedTime);\r\n  render(elapsedTime);\r\n  if (!gameOver) {\r\n    requestAnimationFrame(gameLoop);\r\n  }\r\n}\r\nlet lastRender = 0;\r\n"],"file":"maze_generator.dev.js"}